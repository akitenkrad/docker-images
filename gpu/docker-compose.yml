version: '2.3'
services:
  python:
    container_name: 'python-gpu'
    build:
      context: ../../
      dockerfile: "python-docker/gpu/Dockerfile"
    user: root
    tty: true
    volumes:
      - ../../:/workplace:cached
    ports:
      - "8889:8889"
    runtime: nvidia 
    environment:
      TZ: Asia/Tokyo
      NVIDIA_VISIBLE_DEVICES: all
      NVIDIA_DRIVER_CAPABILITIES: all
    working_dir: /workplace
